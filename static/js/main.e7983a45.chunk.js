(this["webpackJsonpswgoh-guild-resources"]=this["webpackJsonpswgoh-guild-resources"]||[]).push([[0],{20:function(e){e.exports=JSON.parse('[{"id":"SITH_EMPIRE_W_MALAK","subs":"Sith Trooper, Sith Assassin, Sith Marauder"},{"id":"SITH_EMPIRE_WO_MALAK","subs":"Sith Trooper, Sith Assassin, Sith Marauder"},{"id":"JEDI_REVAN","subs":"Bastila Shan, General Kenobi, Ezra Bridger, Hermit Yoda, Obi-Wan Kenobi (Old Ben), Juhani, Plo Koon"},{"id":"SITH_TRI","subs":"Sith Trooper, Grand Admiral Thrawn, Bastila Shan (Fallen), Count Dooku, Sith Assassin, Sith Marauder"},{"id":"REBELS_CLS","subs":"C-3PO, R2-D2, Obi-Wan Kenobi (Old Ben), Captain Han Solo, Ahsoka Tano (Fulcrum), Baze Malbus, Chirrut \xcemwe"},{"id":"GALACTIC_REPUBLIC","subs":"Barriss Offee, Clone Wars Chewbacca, Grand Master Yoda, CT-7567 \\"Rex\\", CT-5555 \\"Fives\\", Aayla Secura, Qui-Gon Jinn"},{"id":"GEONOSIANS","subs":""},{"id":"NS_ASAJJ","subs":"Nightsister Spirit, Nightsister Acolyte, Nightsister Initiate, Talia"},{"id":"NS_MT","subs":"Nightsister Spirit, Nightsister Acolyte, Nightsister Initiate, Talia"},{"id":"NS_MT_NA","subs":""},{"id":"SEP_DROIDS","subs":"IG-100 MagnaGuard, Nute Gunray, Count Dooku, Wat Tambor"},{"id":"CLONES_SHAAKTI","subs":"CT-7567 \\"Rex\\", CT-21-0408 \\"Echo\\", CT-5555 \\"Fives\\", CC-2224 \\"Cody\\""},{"id":"REX_501","subs":""},{"id":"JEDI_BASTILA","subs":"Jolee Bindo, Grand Master Yoda, General Kenobi, Ezra Bridger, Hermit Yoda, Aayla Secura, Obi-Wan Kenobi (Old Ben), Barriss Offee, Juhani, Luminara Unduli, Mace Windu, Plo Koon, Qui-Gon Jinn"},{"id":"FO_KRU","subs":"First Order Officer, First Order Stormtrooper, Captain Phasma, First Order SF TIE Pilot, First Order TIE Pilot"},{"id":"BH_BOSSK","subs":"Jango Fett, Zam Wessell, Greedo, Embo, IG-88, Cad Bane, Aurra Sing"},{"id":"BH_JANGO","subs":"Dengar, Zam Wesell, Greedo, Embo, IG-88, Cad Bane, Aurra Sing"},{"id":"EP","subs":"Grand Moff Tarkin, TIE Fighter Pilot, Imperial Probe Droid, Count Dooku, Director Krennic, Shoretrooper, Grand Admiral Thrawn, Royal Guard, Shoretrooper"},{"id":"JTR","subs":"Rey (Scavenger), Finn, Resistance Trooper, RD-D2, C-3PO, Amilyn Holdo, L3-37, Poe Dameron, Resistance Pilot, Rose Tico"},{"id":"EWOKS","subs":"Logray, Ewok Scout, Teebo, C-3PO"},{"id":"OR_CARTH","subs":"Juhani, Wampa, Boba Fett, Darth Sidious, Chirrut \xcemwe, Baze Malbus"},{"id":"QIRA","subs":"Mission Vao, Zaalbar, Enfys Nest, Young Han Solo, Han Solo, Chewbacca, Young Lando Calrissian, Cad Bane, Barriss Offee, Wat Tambor"},{"id":"IT","subs":"Death Trooper, Grand Admiral Thrawn, Shoretrooper, Stormtrooper, Magmatrooper"},{"id":"REBELS_WIGGS","subs":"Ahsoka Tano (Fulcrum), Chirrut \xcemwe, Baze Malbus, Stormtrooper Han, Obi-Wan Kenobi (Old Ben), Admiral Ackbar, Captain Han Solo, Obi-Wan Kenobi (Old Ben), Princess Leia, R2-D2, Scarif Rebel Pathfinder"},{"id":"PHOENIX","subs":"Sabine Wren, Ezra Bridger, Chopper"},{"id":"ROGUE_ONE","subs":"Chirrut \xcemwe, Baze Malbus, Bistan, C-3PO, Scarif Rebel Pathfinder, Pao, Bistan"},{"id":"IT_THRAWN","subs":"Death Trooper, Shoretrooper, Stormtrooper"},{"id":"JEDI_QGJ","subs":"Jolee Bindo, Grand Master Yoda, General Kenobi, Ezra Bridger, Hermit Yoda, Aayla Secura, Obi-Wan Kenobi (Old Ben)"},{"id":"REX_WAMPA","subs":"Hermit Yoda"},{"id":"WAMPA_SOLO","subs":""},{"id":"JAWAS","subs":"Jawa, Dathcha"},{"id":"CLONES_CODY","subs":""},{"id":"EP_ANTI_REBEL","subs":""},{"id":"EP_ANTI-TRAYA","subs":""},{"id":"EP_TRIO","subs":""},{"id":"EP_TRAYA","subs":""},{"id":"SION_SOLO","subs":""},{"id":"DK_ANTI_REBEL","subs":""},{"id":"DROIDS_ANTI_MALAK","subs":""},{"id":"NEST_SOLO","subs":""},{"id":"EWOKS_C3PO","subs":""},{"id":"GALACTIC_REPUBLIC_C3PO","subs":""},{"id":"GK","subs":"Wampa, Darth Nihilus, Mother Talzin"},{"id":"IG-88_HI","subs":""},{"id":"JEDI_BASTILA_REVAN","subs":""},{"id":"MAGMA","subs":"Director Krennic, Grand Moff Tarkin, Imperial Probe Droid, Stormtrooper, Shoretrooper"},{"id":"NS_NEST","subs":""},{"id":"QIRA_NEST_HODA","subs":""},{"id":"QIRA_NEST_HODA_FULL","subs":""},{"id":"REBELS_CLS_THRAWN","subs":""},{"id":"REBELS_CLS_CHAZE","subs":""},{"id":"REBELS_DANGER_ZONE","subs":""},{"id":"JTR_DROIDS","subs":"Resistance Trooper, Chopper, IG-88, L3-37, T3-M4"},{"id":"JTR_HOLDO","subs":""},{"id":"REX","subs":""},{"id":"SEP_NUTE","subs":""},{"id":"SITH_MAUL","subs":"Sith Trooper, Sith Assassin, Count Dooku, Darth Sidious, Sith Marauder"},{"id":"ZADER","subs":"Grand Moff Tarkin, Darth Sidious, Boba Fett, Barriss Offee, Mission Vao, Zaalbar, Canderous Ordo, Sith Trooper, Shoretrooper, Stormtrooper, Mother Talzin"}]')},21:function(e,t,a){e.exports=a(52)},27:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(19),i=a.n(o),s=(a(26),a(27),a(2)),u=a(3),l=a(5),c=a(4),d=a(6),m=a(8),p=a.n(m),h=function(){return new Promise((function(e,t){p.a.get("https://api.sheety.co/a710e43e-2721-45bb-b722-dafafea5b152").then((function(t){e(t.data)})).catch((function(e){return t(e)}))}))},f=function(){return new Promise((function(e,t){p.a.get("https://cors-anywhere.herokuapp.com/https://swgoh.gg/api/guild/4268/").then((function(t){e(t.data)})).catch((function(e){return t(e)}))}))},E=(a(45),function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(n)))).state={},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"guildOptions-header"}))}}]),t}(n.a.Component)),b=a(7),O=(a(46),a(9)),T=a.n(O),S=(a(47),a(48),function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(n)))).state={guildRoster:[],formattedRoster:[]},a.buildColumns=function(){var e=[{data:"name"},{data:"lastUpdated"}];return Object(b.a)(a.props.approvedTeamOrder).map((function(t){return e.push({data:t})})),e},a.formatGuildRoster=function(){return Object(b.a)(a.props.guildRoster).map((function(e){var t=Object(b.a)(a.props.approvedTeamOrder),r={};r.name=e.playerName;return r.lastUpdated=new Date(1e3*e.lastUpdated).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"}),t.forEach((function(e){r[e]=""})),e.playerRoster.forEach((function(e){r[e.id]=e.teamPower})),r}))},a.printGuildTable=function(){var e=a.buildColumns();T()(a.refs.guildTable).DataTable({autoWidth:!0,columns:e,data:a.state.formattedRoster,destroy:!0,pageLength:50,scrollX:!0})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.formatGuildRoster();this.setState({guildRoster:this.props.guildRoster,formattedRoster:e})}},{key:"render",value:function(){var e=[];if(this.refs.guildTable){e=this.props.approvedTeamOrder.map((function(e){return n.a.createElement("th",{key:e},e)}));var t=n.a.createElement("th",{key:"Name"},"Name"),a=n.a.createElement("th",{key:"LastUpdated"},"LastUpdated");e.unshift(a),e.unshift(t),this.printGuildTable()}return n.a.createElement(n.a.Fragment,null,n.a.createElement("table",{ref:"guildTable",className:"display compact"},n.a.createElement("thead",null,n.a.createElement("tr",null,e))))}}]),t}(n.a.Component)),A=(a(49),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.playerName,a=e.playerRoster.map((function(e){var t="".concat(e.id,"-").concat(e.teamPower);return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.id),n.a.createElement("td",null,e.teamPower),n.a.createElement("td",null,e.leader.name),n.a.createElement("td",null,e.toon2.name),n.a.createElement("td",null,e.toon3.name),n.a.createElement("td",null,e.toon4.name),n.a.createElement("td",null,e.toon5.name))}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"playerHeader mt-3"},n.a.createElement("h2",null,t)),n.a.createElement("table",{className:"minimalistBlack mb-3"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Team Id"),n.a.createElement("th",null,"Power"),n.a.createElement("th",null,"Leader"),n.a.createElement("th",null,"Toon 2"),n.a.createElement("th",null,"Toon 3"),n.a.createElement("th",null,"Toon 4"),n.a.createElement("th",null,"Toon 5"))),n.a.createElement("tbody",null,a)))}}]),t}(n.a.Component)),_=a(20),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(n)))).state={guildRoster:[]},a.buildGuildRoster=function(e){var t=[];return e.forEach((function(e){var r=e.data.name,n=e.data.last_updated,o=a.buildPlayerTeams(e);t.push({playerName:r,playerRoster:o,lastUpdated:n})})),t},a.buildPlayerTeams=function(e){for(var t=Object(b.a)(a.props.approvedTeams).map((function(e){return e[0]})),r=[],n=Object.values(e).map((function(e){return e}))[0].filter((function(e){return 1===e.data.combat_type})).map((function(e){return e.data.name})),o=Object.values(e).map((function(e){return e}))[0].map((function(e){return{name:e.data.name,power:e.data.power}}));t.length;){var i=a.findBestOverallTeams(t,n,o);i.sort((function(e,t){return e.teamPower<t.teamPower?1:-1})),i[0].teamPower>0?function(){var e=a.findTopBestTeam(t,n,o,i[0].id);r.push(e);var s=t.findIndex((function(t){return e?t.id===e.id:-1}));t.splice(s,1)}():function(){var e=a.findTopBestTeam(i,n),r=t.findIndex((function(t){return e?t.id===e.id:-1}));t.splice(r,1)}()}return r},a.findBestOverallTeams=function(e,t,r){var n=[];return e.forEach((function(e){var o=e,i=a.selectRequiredToons(o),s=[];if(t&&i.forEach((function(e){var a=t.filter((function(t){return t===e}));if(a[0]){var n=r.find((function(e){return a[0]===e.name}));s.push({name:n.name,power:n.power})}})),s.length===i.length){if(s.length>0){if(s.length<5)for(var u=5-s.length,l=0;l<u;l+=1){var c=a.selectToonToAdd(r,t,o.id,s);c&&s.push(c)}if(s.length<5)s={id:o.id,teamPower:0},n.push(s);else{var d=s.map((function(e){return e.power})).reduce((function(e,t){return e+t}));s={leader:s[0],toon2:s[1],toon3:s[2],toon4:s[3],toon5:s[4],teamPower:d,id:o.id},n.push(s)}}}else s.length<i.length&&(s={id:o.id,teamPower:0},n.push(s))})),n},a.findTopBestTeam=function(e,t,r,n){var o=[],i=[],s=[],u=e.filter((function(e){return e.id===n}))[0];if(u&&(i=a.selectRequiredToons(u)),t&&i.forEach((function(e){var a=t.filter((function(t){return t===e}));if(a[0]){var n=r.find((function(e){return a[0]===e.name})),o=t.indexOf(a[0]);s.push({name:n.name,power:n.power}),t.splice(o,1)}})),s.length>0){if(s.length<5)for(var l=5-s.length,c=function(e){var o=a.selectToonToAdd(r,t,n,s);if(o){var i=t.filter((function(e){return e===o.name})),u=t.indexOf(i[0]);s.push(o),t.splice(u,1)}},d=0;d<l;d+=1)c();if(s.length<5)s.forEach((function(e){t.push(e.name)})),s={id:n,teamPower:0},o.push(s);else{var m=s.map((function(e){return e.power})).reduce((function(e,t){return e+t}));s={leader:s[0],toon2:s[1],toon3:s[2],toon4:s[3],toon5:s[4],teamPower:m,id:n},o.push(s)}}return o[0]},a.getTeamComps=function(){var e=Object(b.a)(a.props.rawPlayerData),t=a.buildGuildRoster(e);a.setState({guildRoster:t})},a.selectRequiredToons=function(e){var t=[];return!0===e.leaderReq&&t.push(e.leaderName),!0===e.toon2Req&&t.push(e.toon2Name),!0===e.toon3Req&&t.push(e.toon3Name),!0===e.toon4Req&&t.push(e.toon4Name),!0===e.toon5Req&&t.push(e.toon5Name),t},a.selectToonToAdd=function(e,t,a,r){var n=[],o=e.filter((function(e){return-1!==t.indexOf(e.name)}));_.filter((function(e){return e.id===a}))[0].subs.split(", ").forEach((function(e){var t=o.filter((function(t){return t.name===e}))[0];t&&n.push(t)}));var i=n.filter((function(e){return-1!==r.indexOf(e)}));return n.sort((function(e,t){return e.power<t.power?1:-1})),i.length>0?n[i.length]:n[0]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=[],t=Object(b.a)(this.state.guildRoster);return this.state.guildRoster.length>0&&(e=t.map((function(e){return n.a.createElement(A,{playerName:e.playerName,playerRoster:e.playerRoster})}))),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"text-center"},n.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},this.props.approvedTeams.length>0?n.a.createElement("button",{className:"btn btn-primary",onClick:this.getTeamComps},"Get Team Comps"):""),this.state.guildRoster.length>0?n.a.createElement(S,{guildRoster:this.state.guildRoster,approvedTeamOrder:this.props.approvedTeamOrder}):"",n.a.createElement("div",{className:"d-flex flex-column"},e)))}}]),t}(n.a.Component),v=(a(50),["SITH_EMPIRE_W_MALAK","SITH_EMPIRE_WO_MALAK","JEDI_REVAN","SITH_TRI","REBELS_CLS","GALACTIC_REPUBLIC","GEONOSIANS","NS_ASAJJ","NS_MT","NS_MT_NA","SEP_DROIDS","CLONES_SHAAKTI","REX_501","JEDI_BASTILA","FO_KRU","BH_BOSSK","BH_JANGO","EP","JTR","EWOKS","OR_CARTH","QIRA","IT","REBELS_WIGGS","PHOENIX","ROGUE_ONE","IT_THRAWN","JEDI_QGJ","REX_WAMPA","WAMPA_SOLO","JAWAS","CLONES_CODY","DK_ANTI_REBEL","DROIDS_ANTI_MALAK","EWOKS_C3PO","GK","MAGMA","NS_NEST","QIRA_NEST_HODA","QIRA_NEST_HODA_FULL","REBELS_CLS_CHAZE","REBELS_DANGER_ZONE","JTR_DROIDS","JTR_HOLDO","REX","SEP_NUTE","SITH_MAUL","ZADER"]),g=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(n)))).state={approvedTeams:[],guildData:[],rawPlayerData:[]},a.orderTeams=function(e){var t=e,a=[];return v.forEach((function(e){var r=t.filter((function(t){return t.id===e}));a.push(r)})),a},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;h().then((function(t){var a=e.orderTeams(t);e.setState({approvedTeams:a})})).catch((function(e){return console.error(e)})),f().then((function(t){return e.setState({guildData:t.data,rawPlayerData:t.players})})).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this.state,t=e.approvedTeams,a=e.guildData,r=e.rawPlayerData;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"main-header text-center"},n.a.createElement("h1",null,a.name),n.a.createElement("div",{className:"container d-flex flex-row justify-content-around"},n.a.createElement("p",null,"Members: ",a.profile_count),n.a.createElement("p",null,"Galactic Power: ",a.galactic_power?a.galactic_power.toLocaleString():""))),n.a.createElement("div",null,n.a.createElement(E,null),n.a.createElement(R,{approvedTeamOrder:v,approvedTeams:t,rawPlayerData:r})))}}]),t}(n.a.Component),N=(a(51),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(g,null))}}]),t}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.e7983a45.chunk.js.map